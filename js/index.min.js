var indexBox,bookmarkName=document.getElementById("bookmarkName"),siteUrl=document.getElementById("siteUrl"),submitBtn=document.getElementById("submitBtn"),editBtn=document.getElementById("editBtn"),tBody=document.getElementById("tBody"),alertBox=document.getElementById("alertBox"),modal=document.getElementById("exampleModalToggle");bookmarkName.focus();var siteList=[];function siteObj(){return{siteName:bookmarkName.value,siteUrl:/^(https?:\/\/)/.test(siteUrl.value)?siteUrl.value:`https://${siteUrl.value}`}}function siteLocalStorage(){return localStorage.setItem("sites",JSON.stringify(siteList))}function clearInputs(){bookmarkName.value=null,siteUrl.value=null,clearValid()}function clearValid(){bookmarkName.classList.remove("is-invalid"),bookmarkName.classList.remove("is-valid"),siteUrl.classList.remove("is-invalid"),siteUrl.classList.remove("is-valid")}function showData(){for(var t="",e=0;e<siteList.length;e++)t+=`\n                <tr class="py-5">\n                  <td>${e+1}</td>\n                  <td>${siteList[e].siteName}</td>\n                  <td>\n                    <a class="visit-btn d-block btn btn-outline-info py-1 px-1 mx-auto" href="${siteList[e].siteUrl}" target="_blank">\n                    <i class="fa-solid fa-eye pe-1"></i>\n                    Visit\n                    </a>\n                  </td>\n                  <td><button class="del-btn btn btn-danger py-1 px-1" onclick="delSite(${e})">\n                  <i class="fa-solid fa-trash-can"></i>\n                  Delete\n                  </button></td>\n                  <td><button class="edit-btn btn btn-outline-warning py-1 px-1" onclick="setDataToEdit(${e})">\n                  <i class="fa-solid fa-pen-to-square"></i>\n                  Edit\n                  </button></td>\n                </tr>\n    \n            `;tBody.innerHTML=t}function addSite(){validation(bookmarkName)&&validation(siteUrl)?(siteObj(),siteList.push(siteObj()),siteLocalStorage(),showData(),clearInputs()):notValid()}function delSite(t){siteList.splice(t,1),siteLocalStorage(),showData()}function setDataToEdit(t){bookmarkName.value=siteList[t].siteName,siteUrl.value=siteList[t].siteUrl,indexBox=t,submitBtn.classList.add("d-none"),editBtn.classList.remove("d-none"),scroll({top:0}),bookmarkName.focus()}function editSite(t){validation(bookmarkName)&&validation(siteUrl)?(siteObj(),siteList.splice(indexBox,1,siteObj()),siteLocalStorage(),showData(),submitBtn.classList.remove("d-none"),editBtn.classList.add("d-none"),clearInputs()):notValid()}function validation(t){return{bookmarkName:/^\w{1,15}$/,siteUrl:/^(https?:\/\/)?(www\.)?[\w\-]+(\.[\w\-]+)+([\/\w\-\.\?=&]*)?$/gm}[t.id].test(t.value)?(t.classList.add("is-valid"),t.classList.remove("is-invalid"),!0):(t.classList.remove("is-valid"),t.classList.add("is-invalid"),!1)}function notValid(){(validation(siteUrl)||validation(bookmarkName))&&validation(bookmarkName)?(modal.classList.add("show"),modal.style.display="block",alertBox.classList.replace("d-block","d-none")):alertBox.classList.replace("d-none","d-block")}localStorage.getItem("sites")&&(siteList=JSON.parse(localStorage.getItem("sites")),showData()),document.addEventListener("click",(function(t){"closeBtn"!=t.target.id&&"alertBox"!=t.target.id&&"exampleModalToggle"!=t.target.id||(alertBox.classList.replace("d-block","d-none"),modal.classList.remove("show"),modal.style.display="none")})),document.addEventListener("keydown",(function(t){"Enter"==t.key&&(submitBtn.classList.contains("d-none")?editSite():addSite()),"Escape"==t.key&&(alertBox.classList.contains("d-block")?alertBox.classList.replace("d-block","d-none"):t.target.blur(),modal.classList.remove("show"),modal.style.display="none")})),submitBtn.addEventListener("click",(function(t){addSite()})),editBtn.addEventListener("click",(function(t){editSite(t)})),document.addEventListener("input",(function(t){validation(t.target)}));