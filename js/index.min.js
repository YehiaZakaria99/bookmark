var indexBox,bookmarkName=document.getElementById("bookmarkName"),siteUrl=document.getElementById("siteUrl"),submitBtn=document.getElementById("submitBtn"),editBtn=document.getElementById("editBtn"),tBody=document.getElementById("tBody"),alertBox=document.getElementById("alertBox"),siteList=[];function siteObj(){return{siteName:bookmarkName.value,siteUrl:/^(https?:\/\/)/.test(siteUrl.value)?siteUrl.value:`https://${siteUrl.value}`}}function siteLocalStorage(){return localStorage.setItem("sites",JSON.stringify(siteList))}function addSite(){Validation(bookmarkName)&&Validation(siteUrl)?(siteObj(),siteList.push(siteObj()),siteLocalStorage(),showData(),clearInputs()):(console.log("err"),alertBox.classList.replace("d-none","d-block"))}function clearInputs(){bookmarkName.value=null,siteUrl.value=null,clearValid()}function clearValid(){bookmarkName.classList.remove("is-invalid"),bookmarkName.classList.remove("is-valid"),siteUrl.classList.remove("is-invalid"),siteUrl.classList.remove("is-valid")}function showData(){for(var t="",e=0;e<siteList.length;e++)t+=`
  <tr class="py-5">
    <td>${e+1}</td>
    <td>${siteList[e].siteName}</td>
    <td>
      <a class="visit-btn d-block btn btn-outline-info py-1 px-1 mx-auto" href="${siteList[e].siteUrl}" target="_blank">
      <i class="fa-solid fa-eye pe-1"></i>
      Visit
      </a>
    </td>
    <td><button class="del-btn btn btn-danger py-1 px-1" onclick="delSite(${e})">
    <i class="fa-solid fa-trash-can"></i>
    Delete
    </button></td>
    <td><button class="edit-btn btn btn-outline-warning py-1 px-1" onclick="setDataToEdit(${e})">
    <i class="fa-solid fa-pen-to-square"></i>
    Edit
    </button></td>
  </tr>

`;tBody.innerHTML=t}function delSite(t){siteList.splice(t,1),siteLocalStorage(),showData()}function setDataToEdit(t){bookmarkName.value=siteList[t].siteName,siteUrl.value=siteList[t].siteUrl,indexBox=t,submitBtn.classList.add("d-none"),editBtn.classList.remove("d-none"),scroll({top:0}),bookmarkName.focus()}function editSite(t){siteObj(),siteList.splice(indexBox,1,siteObj()),siteLocalStorage(),showData(),submitBtn.classList.remove("d-none"),editBtn.classList.add("d-none"),clearInputs()}function Validation(t){return({bookmarkName:/^\w{1,8}$/,siteUrl:/^((https?\:\/\/)?(www\.)?)?.{1,}(\.[a-zA-Z0-9]{2,})(\/?.{2,})?$/gm})[t.id].test(t.value)?(t.classList.add("is-valid"),t.classList.remove("is-invalid"),!0):(t.classList.remove("is-valid"),t.classList.add("is-invalid"),!1)}localStorage.getItem("sites")&&(siteList=JSON.parse(localStorage.getItem("sites")),showData()),document.addEventListener("click",function(t){("closeBtn"==t.target.id||"alertBox"==t.target.id)&&alertBox.classList.replace("d-block","d-none")}),submitBtn.addEventListener("click",function(t){addSite()}),editBtn.addEventListener("click",function(t){editSite(t)}),document.addEventListener("input",function(t){Validation(t.target)});